%biafra ahanonu
%LaTeX_Boilerplate
%updated: 2012.12.01
%Create new commands to make figures, chapters and other parts standardized, most begin with lbp for LaTeX Boilerplate followed by description
%_______BIOINFOMATICS_______
% Automatic fasta formatting
\newcommand{\fasta}[2]{
#1
\begin{spacing}{0}{\tiny\seqsplit{#2}}\end{spacing}\vspace{1em}
}
%_______LIST_______
% Automatic list creation!
\NewDocumentCommand \lbpitemize {> { \SplitList { , } } m }{%
	\begin{itemize}
	{\footnotesize
		\ProcessList {#1} {\myref }
	}
	\end{itemize}
 }
\NewDocumentCommand{\myref}{m}{
	\item \llidx{#1}{}
}
%_______CODE_______
% Use to include a code file in the text
\newcommand{\includecode}[3][c]{\lstinputlisting[caption=#3, escapechar=, style=custom#1]{#2}}
%_______EQUATION_______
\newcommand{\lbpeq}[3]{
	\begin{equation}
		\label{eq:#2}
		#1
	\end{equation}
}
%_______LINK_______
\makeatletter
\let\oldhref=\href
\renewcommand{\href}[2]{\oldhref{#1}{{\color{red}#2}}}
\makeatother
% \renewcommand\UrlFont{\ttfamily\color{red}}
% \renewcommand{\href}[2]{{\color{red}\hyper@linkurl{\Hurl{#2}}{\Hurl{#1}}}}
% \DeclareRobustCommand{\href}{\hyper@normalise\href@}
% \renewcommand{\href}[2]{}
% \newcommand\hreffootnote@[2]{\footnote{\hyper@linkurl{\Hurl{#2}}{#1}}}
% \DeclareRobustCommand{\hreffootnote}{\hyper@normalise\hreffootnote@}
%_______ANSWERS_______
% Switch on/off answers
\newcommand{\answers}[1]{{\color{blue}#1}}
%_______CITE_______
%Figure citation cmd
\newcommand{\figcite}[2]{ ({\color{red}Fig. \ref{fig:#1}#2})}
%Table citation cmd
\newcommand{\tabcite}[2]{ ({\color{red}Table \ref{table:#1}#2})}
% Equations
\newcommand{\eqcite}[2]{{\color{red}Eq. \ref{eq:#1}#2}}
%_______FIGURE_______
%Macros to help reduce clutter in text and standardize layout of figures
%______NORMAL_______
\newcommand{\lbpfigure}[6]{
%\lbpfigure{image_location}{width}{reference}{title}{description}{page_location}
\begin{figure}[#6]
	%\begin{left}
	\center
	\scalebox{1}{\includegraphics[width=#2,scale=1.0]{#1}}
	\captionsetup{labelformat=empty}
	\caption{\textbf{{\color{red}Figure \ref{fig:#3}} |  #4}\\ #5}
	\label{fig:#3}
	%\end{left}
\end{figure}
}
\newcommand{\lbpblankfigure}[6]{
%\lbpfigure{image_location}{width}{reference}{title}{description}{page_location}
\vfill
{
\centering
\begin{figure}[#6]
	%\begin{left}
	% \center
	\scalebox{1}{\includegraphics[width=#2,scale=1.0]{#1}}
	\captionsetup{labelformat=empty}
	\caption{#5}
	\label{fig:#3}
	%\end{left}
\end{figure}
}
\vfill
}
%______INTEXT_______
\newcommand{\lbpfloat}[6]{
%\lbpfigure{image_location}{width}{reference}{title}{description}{page_location}
\begin{wrapfigure}{#6}{#2}
	\begin{center}
		\scalebox{1}{\includegraphics[width=#2,scale=1.0]{#1}}
	\end{center}
	\captionsetup{labelformat=empty}
	\caption[#4]{\textbf{{\color{red}Figure \ref{fig:#3}} |  #4}\\ #5}
	\label{fig:#3}
\end{wrapfigure}
}
%______WRAP_______
%This figure can wrap to multiple pages
%\lbpfigure{image_location}{width}{reference}{title}{description}{page_location}
\newcommand{\widefig}[6]{
\begin{wrapfigure}{#6}{0.5\textwidth}
	\vspace{-20pt}
	\begin{center}
		\includegraphics[width=#2,scale=1.0]{#1}
	\end{center}
	\vspace{-20pt}
	\singlespace
	\textbf{Figure \ref{fig:#3} |  #4}\\ #5
	\label{fig:#3}
	\vspace{-10pt}
\end{wrapfigure}
}
%_______Multi_Panel_Figure_______
%Keys loaded when pgfkeys is called
\pgfkeys{
	%Call with \pgfkeys{/family, #1}
	%Define a family directory to avoid name-clashes
	/multiFigure/.is family, /multiFigure,
	%key/.estore in = \newVariable
	label/.estore in = \multiFigLabel,
	capTitle/.estore in = \multiFigCapTitle,
	capDes/.estore in = \multiFigCapDesc,
}
%Create a new multi figure command
\newcommand\multifig[9][]{
	%command looks like \multiFigure[key=val,...]{panelTitle}{imageLocation}..
	%example: 
		%\multiFigure[label=11,capTitle=Hello,capDes=World]{fig}{images/Map.jpg}{fig}{images/Map.jpg}{fig}{images/Map.jpg}{fig}{images/Map.jpg}
	%First arg ([key=val,...]) passed to pgfkeys, get new variables back, circumvent the 9 argument rule for \newcommand
	\pgfkeys{/multiFigure, #1}
	\begin{figure*}[ht!]
	\begin{center}
		\subfloat[#2]{\includegraphics[width=.45\textwidth,scale=1.0]{#3}}  
		\ifthenelse{\isempty{#5}}{}{
		\subfloat[#4]{\includegraphics[width=.45\textwidth,scale=1.0]{#5}}
		}\\
		\ifthenelse{\isempty{#7}}{}{
		\subfloat[#6]{\includegraphics[width=.45\textwidth,scale=1.0]{#7}}
		} 
		\ifthenelse{\isempty{#8}}{}{
		\subfloat[#8]{\includegraphics[width=.45\textwidth,scale=1.0]{#9}}
		}
		\captionsetup{labelformat=empty}
		\caption{\textbf{{\color{red}Figure \ref{fig:\multiFigLabel}} |  \multiFigCapTitle}\\ \multiFigCapDesc}
		\label{fig:\multiFigLabel}
	\end{center}
	\end{figure*}	
}
%__________________________________________
% TITLES
%Section, chapter and other title formatting
%_______H1 Format_______
\newcommand{\lbps}[2]{
	\phantomsection
	\addcontentsline{toc}{subsection}{#1}
	\textbf{\large#1}\index{#1}\\
}
\newcommand{\lbpss}[2]{
	\textbf{\large#1}\index{#1}\\
}
%_______CHAPTER_______
\newcommand{\lbpchapter}[5]{
%Input five different, each can be called with #(number)
%Example \fchapter{Hello}{}{}{World}{}, gives #1=Hello and #4=World
	\newpage\noindent
	\begin{spacing}{0}
		\begin{flushright}
			\textbf{\Huge#1}
			% \colorbox{black}{\color{white}\makebox[\paperwidth][r]{\textbf{\Huge#1#2}}}	
			\rule{\textwidth}{.5pt}
		\end{flushright}	
	\end{spacing}
	%Add a phantom section to allow correct linking in table of contents
	\phantomsection
	\addcontentsline{toc}{section}{#1}	
	% #2 
	% \textbar\ #3 \textbar\ #4 \textbar\ #5\
	\vspace{26pt}
	% \thispagestyle{empty}
	%Redefine header for each chapter
	\chaptermark{#1}	
	\renewcommand{\leftmark}{#1}
}
%_______SECTION_______
\newcommand{\lbpsection}[1]{
%Used for each section, see CHAPTER for implementation details
	\newpage\noindent
	\begin{spacing}{0}
		\begin{flushright}
			\textbf{\Huge#1}
			\rule{\textwidth}{.5pt}
		\end{flushright}	
	\end{spacing}
	\phantomsection
	\addcontentsline{toc}{chapter}{#1}
	\vspace{26pt}
	\thispagestyle{empty}
	%Change to current chapter
	\chaptermark{#1}	
	%Redefine header for each chapter
	\renewcommand{\rightmark}{#1}
}
%_______TITLE_______
\newcommand{\lbptitle}[4]{
%First page title, see CHAPTER for implementation details
	\begin{spacing}{0}
		\noindent
		\textbf{{\fontsize{50}{60}\selectfont #1}}
		% \textbf{\scalebox{7}{#1}}\\
		\textbf{\huge#4}
	\end{spacing}
	\vfill
	\begin{flushright}		
	\textbf{\textbf{\huge#3} \huge\textbar\ \huge#2}
	\end{flushright}	
	\vspace{2em}
	%Remove styling
	% \thispagestyle{empty}
	\vspace{-50pt}
}
%_______PART_______
\newcommand{\lbppart}[2]{
%For book parts, see CHAPTER for implementation details 
	\newpage\noindent
	\begin{spacing}{0}
		\begin{flushleft}
			\textbf{\Huge#1}
			\rule{\textwidth}{.5pt}
		\end{flushleft}	
	\end{spacing}
	%To help proper linking
	\phantomsection
	\addcontentsline{toc}{chapter}{#1}	
	% #2\
	\thispagestyle{empty}
	%Change section to current
	\sectionmark{#1}
	%Change header/footer section to current
	\renewcommand{\rightmark}{#1}
}
%_______END_______
\newcommand{\lbpendsection}[2]{
%Last page, see CHAPTER for implementation details
	\newpage\noindent
	\begin{spacing}{0}
		\begin{flushright}
			\textbf{\Huge#1}
			\rule{\textwidth}{.5pt}
		\end{flushright}	
	\end{spacing}
	\phantomsection
	\addcontentsline{toc}{chapter}{#1}	
	% #2\
	\thispagestyle{empty}
	\sectionmark{#1}
	\renewcommand{\rightmark}{}
}
%_______INDEX_______
%Provide a standard index command, allow easier modification later
\newcommand{\lidx}[2]{
	\ifthenelse{\isempty{#2}}%
    {{\color{blue}#1}\index{#1}}% if #2 is empty
    {{\color{blue}#1}\index{#2!#1}}% if #2 is not empty
}
\newcommand{\llidx}[2]{
	\ifthenelse{\isempty{#2}}%
    {#1\index{#1}}% if #2 is empty
    {#1\index{#2!#1}}% if #2 is not empty
}
%Redefine the index environment
\makeatletter
\renewenvironment{theindex}{%
	\renewcommand{\leftmark}{Index}
	\begin{spacing}{0}
		\begin{flushright}
			\textbf{\Huge \indexname}
			\rule{\textwidth}{.5pt}
		\end{flushright}	
	\end{spacing}	
	\vspace{1em}
	\columnseprule \z@
	\columnsep 35\p@
	\idx@heading
	\index@preamble\par\nobreak
	\thispagestyle{\indexpagestyle}\parindent\z@
	\setlength{\parskip}{\z@ \@plus .3\p@}%
	\setlength{\parfillskip}{\z@ \@plus 1fil}%
	\begin{multicols}{2}%
	\let\item\@idxitem
}{\end{multicols}\clearpage}   
\makeatother
%_______SEPARATING_LINE_______
%Make a line for separating in-text sections
\newcommand*\lbpsepline{
	\begin{center}
		\rule[1ex]{.5\textwidth}{.5pt}
	\end{center}
}
%_______TABLE_OF_CONTENTS_______
%Alter TOC layout here
\let\oldtableofcontents\tableofcontents%remember the definition
\renewcommand\tableofcontents{
  		\oldtableofcontents\thispagestyle{empty}%use the standard toc
}
\makeatletter 
%Change the TOC command
\renewcommand\tableofcontents{
	%TOC title
	\begin{spacing}{0}
		\begin{flushright}
			\textbf{\Huge Table of Contents}
			\rule{\textwidth}{.5pt}
		\end{flushright}	
	\end{spacing}	
	\thispagestyle{empty}
	% \pagestyle{empty} 
	%Start the TOC
	\@starttoc{toc}
} 
\makeatother 
%_____________________
%BIBLIOGRAPHY
%Redefine the bibliography layout. 
%\bibname is the name of the bibliography, you can wrap it in \chapter{} or \section{} if you desire those types of layouts
\makeatletter
\renewenvironment{thebibliography}[1]
    {
	\begin{spacing}{0}
		\begin{flushright}
			\textbf{\Huge \bibname}
			\rule{\textwidth}{.5pt}
		\end{flushright}	
	\end{spacing}
	\renewcommand{\rightmark}{References}
	\renewcommand{\leftmark}{}
	\vspace{1em}
      \@mkboth{\MakeUppercase\bibname}{\MakeUppercase\bibname}%
      \list{\@biblabel{\@arabic\c@enumiv}}%
           {\settowidth\labelwidth{\@biblabel{#1}}%
            \leftmargin\labelwidth
            \advance\leftmargin\labelsep
            \@openbib@code
            \usecounter{enumiv}%
            \let\p@enumiv\@empty
            \renewcommand\theenumiv{\@arabic\c@enumiv}}%
      \sloppy
      \clubpenalty4000
      \@clubpenalty \clubpenalty
      \widowpenalty4000%
      \sfcode`\.\@m}
     {\def\@noitemerr
       {\@latex@warning{Empty `thebibliography' environment}}%
      \endlist}
\makeatother
%_____________________
%LIST OF FIGURES
\let\oldlistoffigures\listoffigures%remember the definition
\renewcommand\listoffigures{
  		\oldlistoffigures\thispagestyle{empty}%use the standard toc
}
\makeatletter 
%Change the LOF command
\renewcommand\listoffigures{
	%LOF title
	\begin{spacing}{0}
		\begin{flushright}
			\textbf{\Huge Figures}\\
			\rule{\textwidth}{.5pt}
		\end{flushright}	
	\end{spacing}	
	\thispagestyle{empty}
	% \pagestyle{empty} 
	%Start the LOF
	\vspace{1em}
	\@starttoc{lof}
} 
\makeatother 
%_____________________
%LIST OF Tables
\let\oldlistoftables\listoftables%remember the definition
\renewcommand\listoftables{
  		\oldlistoftables\thispagestyle{empty}%use the standard toc
}
\makeatletter 
%Change the LOT command
\renewcommand\listoftables{
	%LOT title
	\begin{spacing}{0}
		\begin{flushright}
			\textbf{\Huge Tables}\\
			\rule{\textwidth}{.5pt}
		\end{flushright}	
	\end{spacing}	
	\thispagestyle{empty}
	% \pagestyle{empty} 
	%Start the LOT
	\vspace{1em}
	\@starttoc{lot}
} 
\makeatother 